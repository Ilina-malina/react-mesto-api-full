{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this.addCard = card => {\n      return fetch(this._baseUrl + \"/cards\", {\n        method: \"POST\",\n        headers: this._headers,\n        body: JSON.stringify(card)\n      }).then(this._checkStatus);\n    };\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      headers: this._headers\n    }).then(this._checkStatus);\n  }\n  deleteCard(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkStatus);\n  }\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      headers: this._headers\n    }).then(this._checkStatus);\n  }\n  editUserInfo(name, about) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(this._checkStatus);\n  }\n  editUserAvatar(avatar) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(this._checkStatus);\n  }\n  putLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(this._checkStatus);\n  }\n  deleteLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkStatus);\n  }\n  _checkStatus(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-50\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});","map":{"version":3,"names":["Api","constructor","baseUrl","headers","addCard","card","fetch","_baseUrl","method","_headers","body","JSON","stringify","then","_checkStatus","getInitialCards","deleteCard","cardId","getUserInfo","editUserInfo","name","about","editUserAvatar","avatar","putLike","deleteLike","res","ok","json","Promise","reject","status","api"],"sources":["/Users/ilina/Projects/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      headers: this._headers,\n    }).then(this._checkStatus);\n  }\n\n  addCard = (card) => {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(card),\n    }).then(this._checkStatus);\n  };\n\n  deleteCard(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkStatus);\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      headers: this._headers,\n    }).then(this._checkStatus);\n  }\n\n  editUserInfo(name, about) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({ name, about }),\n    }).then(this._checkStatus);\n  }\n\n  editUserAvatar(avatar) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({ avatar }),\n    }).then(this._checkStatus);\n  }\n\n  putLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then(this._checkStatus);\n  }\n\n  deleteLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkStatus);\n  }\n\n  _checkStatus(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-50\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}