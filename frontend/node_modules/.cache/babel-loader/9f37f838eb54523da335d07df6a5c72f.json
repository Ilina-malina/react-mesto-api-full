{"ast":null,"code":"import _slicedToArray from\"/Users/ilina/Projects/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import PopupWithForm from'./PopupWithForm.js';import{CurrentUserContext}from'../contexts/CurrentUserContext.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var currentUser=useContext(CurrentUserContext);var _useState=useState(currentUser.name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(currentUser.about),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];useEffect(function(){if(props.isOpen){setName(currentUser.name);setDescription(currentUser.about);}},[props.isOpen]);function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();props.onUpdateUser(name,description);}return/*#__PURE__*/_jsx(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:props.isOpen,onClose:props.onClose,children:/*#__PURE__*/_jsxs(\"form\",{className:\"popup__form\",name:\"profile-form\",noValidate:true,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup__input-zone\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_name\",required:true,type:\"text\",value:name,onChange:handleNameChange,minLength:\"2\",maxLength:\"40\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup__input-zone\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_description\",required:true,type:\"text\",value:description,onChange:handleDescriptionChange,minLength:\"2\",maxLength:\"200\",placeholder:\"\\u0423\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u0440\\u043E\\u0434 \\u0437\\u0430\\u043D\\u044F\\u0442\\u0438\\u0439\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"popup__submit-button\",type:\"submit\",\"aria-label\":\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]})});}export default EditProfilePopup;","map":{"version":3,"names":["React","useState","useEffect","useContext","PopupWithForm","CurrentUserContext","EditProfilePopup","props","currentUser","name","setName","about","description","setDescription","isOpen","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault","onUpdateUser","onClose"],"sources":["/Users/ilina/Projects/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n    const currentUser = useContext(CurrentUserContext);\n\n    const [name, setName] = useState(currentUser.name);\n    const [description, setDescription] = useState(currentUser.about);\n\n    useEffect(() => {\n      if (props.isOpen) {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n      }\n    }, [props.isOpen]);\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n    \n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateUser(\n          name,\n          description,\n        );\n    }\n\n    return (\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} >\n          <form className=\"popup__form\" name=\"profile-form\" noValidate onSubmit={handleSubmit}>\n            <div className=\"popup__input-zone\">\n              <input className=\"popup__input popup__input_type_name\" required type=\"text\" value={name} onChange={handleNameChange} minLength=\"2\" maxLength=\"40\" placeholder=\"Введите Ваше имя\" />\n              <span className=\"popup__error\"></span>   \n            </div>\n            <div className=\"popup__input-zone\">\n              <input className=\"popup__input popup__input_type_description\" required type=\"text\" value={description} onChange={handleDescriptionChange} minLength=\"2\" maxLength=\"200\" placeholder=\"Укажите род занятий\"/>\n              <span className=\"popup__error\"></span> \n            </div>\n            <button className=\"popup__submit-button\" type=\"submit\" aria-label=\"Сохранить\">Сохранить</button>\n          </form>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;"],"mappings":"4HAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC9D,MAAOC,cAAa,KAAM,oBAAoB,CAC9C,OAASC,kBAAkB,KAAQ,mCAAmC,CAAC,wFAEvE,QAASC,iBAAgB,CAACC,KAAK,CAAE,CAC7B,GAAMC,YAAW,CAAGL,UAAU,CAACE,kBAAkB,CAAC,CAElD,cAAwBJ,QAAQ,CAACO,WAAW,CAACC,IAAI,CAAC,wCAA3CA,IAAI,eAAEC,OAAO,eACpB,eAAsCT,QAAQ,CAACO,WAAW,CAACG,KAAK,CAAC,yCAA1DC,WAAW,eAAEC,cAAc,eAElCX,SAAS,CAAC,UAAM,CACd,GAAIK,KAAK,CAACO,MAAM,CAAE,CAChBJ,OAAO,CAACF,WAAW,CAACC,IAAI,CAAC,CACzBI,cAAc,CAACL,WAAW,CAACG,KAAK,CAAC,CACnC,CACF,CAAC,CAAE,CAACJ,KAAK,CAACO,MAAM,CAAC,CAAC,CAElB,QAASC,iBAAgB,CAACC,CAAC,CAAE,CACzBN,OAAO,CAACM,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CAEA,QAASC,wBAAuB,CAACH,CAAC,CAAE,CAChCH,cAAc,CAACG,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAClC,CAEA,QAASE,aAAY,CAACJ,CAAC,CAAE,CACrBA,CAAC,CAACK,cAAc,EAAE,CAElBd,KAAK,CAACe,YAAY,CAChBb,IAAI,CACJG,WAAW,CACZ,CACL,CAEA,mBACI,KAAC,aAAa,EAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,2HAAuB,CAAC,MAAM,CAAEL,KAAK,CAACO,MAAO,CAAC,OAAO,CAAEP,KAAK,CAACgB,OAAQ,uBACvG,cAAM,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,MAAC,QAAQ,CAAEH,YAAa,wBAClF,aAAK,SAAS,CAAC,mBAAmB,wBAChC,cAAO,SAAS,CAAC,qCAAqC,CAAC,QAAQ,MAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAEX,IAAK,CAAC,QAAQ,CAAEM,gBAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,wFAAkB,EAAG,cACnL,aAAM,SAAS,CAAC,cAAc,EAAQ,GAClC,cACN,aAAK,SAAS,CAAC,mBAAmB,wBAChC,cAAO,SAAS,CAAC,4CAA4C,CAAC,QAAQ,MAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAEH,WAAY,CAAC,QAAQ,CAAEO,uBAAwB,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,0GAAqB,EAAE,cAC3M,aAAM,SAAS,CAAC,cAAc,EAAQ,GAClC,cACN,eAAQ,SAAS,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAW,wDAAW,oEAAmB,GAC3F,EACO,CAExB,CAEA,cAAeb,iBAAgB"},"metadata":{},"sourceType":"module"}