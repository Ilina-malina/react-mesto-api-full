{"ast":null,"code":"import _toConsumableArray from\"/Users/ilina/Projects/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/ilina/Projects/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ilina/Projects/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ilina/Projects/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useCallback}from\"react\";import{Redirect,Route,Switch,useHistory}from\"react-router-dom\";import\"../index.css\";import{CurrentUserContext}from\"../contexts/CurrentUserContext.js\";import{CardsContext}from\"../contexts/CardsContext.js\";import ProtectedRoute from\"./ProtectedRoute.js\";import Header from\"./Header.js\";import Login from\"./Login.js\";import Register from\"./Register.js\";import Main from\"./Main.js\";import Footer from\"./Footer.js\";import PopupWithForm from\"./PopupWithForm.js\";import ImagePopup from\"./ImagePopup.js\";import EditProfilePopup from\"./EditProfilePopup.js\";import EditAvatarPopup from\"./EditAvatarPopup.js\";import AddPlacePopup from\"./AddPlacePopup.js\";import InfoTooltip from\"./InfoTooltip.js\";import{api}from\"../utils/Api.js\";import*as auth from\"../utils/Auth.js\";import success from\"../images/success.svg\";import fail from\"../images/fail.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoggedIn=_useState2[0],setIsLoggedIn=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userEmail=_useState6[0],setUserEmail=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isEditProfilePopupOpen=_useState8[0],setIsEditProfilePopupOpen=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isAddPlacePopupOpen=_useState10[0],setIsAddPlacePopupOpen=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isEditAvatarPopupOpen=_useState12[0],setIsEditAvatarPopupOpen=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),selectedCard=_useState14[0],setSelectedCard=_useState14[1];var _useState15=useState({name:\"\",about:\"\"}),_useState16=_slicedToArray(_useState15,2),currentUser=_useState16[0],setCurrentUser=_useState16[1];var _useState17=useState({isOpen:false,title:\"\",image:\"\"}),_useState18=_slicedToArray(_useState17,2),tooltipState=_useState18[0],setTooltipState=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),cards=_useState20[0],setCards=_useState20[1];var history=useHistory();useEffect(function(){if(isLoggedIn){api.getUserInfo().then(function(data){setCurrentUser(data);}).catch(function(err){console.log(err);});}},[isLoggedIn]);useEffect(function(){if(isLoggedIn){api.getInitialCards().then(function(cardList){setCards(cardList);}).catch(function(err){console.log(err);});}},[isLoggedIn]);var handleLike=function handleLike(card){var isLiked=card.likes.some(function(item){return item._id===currentUser._id;});if(isLiked){api.deleteLike(card._id).then(function(newCard){setCards(function(cards){return cards.map(function(item){return card._id===item._id?newCard:item;});});}).catch(function(err){console.log(err);});}else{api.putLike(card._id).then(function(newCard){setCards(function(cards){return cards.map(function(item){return card._id===item._id?newCard:item;});});}).catch(function(err){console.log(err);});}};var handleCardDelete=function handleCardDelete(card){api.deleteCard(card._id).then(function(){setCards(function(cards){return cards.filter(function(item){return item._id!==card._id;});});}).catch(function(err){console.log(err);});};var checkToken=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var token,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;token=localStorage.getItem(\"jwt\");if(!token){console.log(\"No token in storage\");}else{console.log(\"Has token in storage\");}_context.next=5;return auth.checkToken(token);case 5:user=_context.sent;if(!user){console.log(\"Invalid user\");}console.log('setting log in == true');setIsLoggedIn(true);console.log(isLoggedIn);setUserEmail(user.data.email);_context.next=15;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);})),[isLoggedIn]);useEffect(function(){checkToken();},[]);var login=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(email,password){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return auth.login(email,password);case 3:data=_context2.sent;if(!data){console.log(\"Что-то пошло не так\");}if(data){localStorage.setItem(\"jwt\",data.token);setUserEmail(data.email);setIsLoggedIn(true);setUserData(data.user);history.push(\"/\");}_context2.next=10;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}(),[]);var signOut=useCallback(function(){console.log('sign out');localStorage.removeItem(\"jwt\");history.push(\"/signin\");});var register=useCallback(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(email,password){var data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return auth.register(email,password);case 3:data=_context3.sent;if(!data){setTooltipState({isOpen:true,title:\"Что-то пошло не так! Попробуйте ещё раз.\",image:fail});}if(data){setIsLoggedIn(true);setUserData(data.email,data.password);setTooltipState({isOpen:true,title:\"Вы успешно зарегистрировались!\",image:success});history.push(\"/signin\");}_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);setTooltipState({isOpen:true,title:\"Что-то пошло не так! Попробуйте ещё раз.\",image:fail});case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function(_x3,_x4){return _ref3.apply(this,arguments);};}(),[]);function handleUpdateUser(name,about){api.editUserInfo(name,about).then(function(data){setCurrentUser(data);closeAllPopups();}).catch(function(err){console.log(err);});}function handleUpdateAvatar(avatar){api.editUserAvatar(avatar).then(function(data){setCurrentUser(data);closeAllPopups();}).catch(function(err){console.log(err);});}function handleAddPlaceSubmit(name,link){api.addCard({name:name,link:link}).then(function(newCard){setCards([newCard].concat(_toConsumableArray(cards)));closeAllPopups();}).catch(function(err){console.log(err);});}function handleEditAvatarClick(){setIsEditAvatarPopupOpen(true);}function handleEditProfileClick(){setIsEditProfilePopupOpen(true);}function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);}function closeAllPopups(){setIsEditProfilePopupOpen(false);setIsAddPlacePopupOpen(false);setIsEditAvatarPopupOpen(false);setTooltipState({isOpen:false});setSelectedCard(null);}return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsx(CardsContext.Provider,{value:cards,children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{email:userEmail,onSignOut:signOut}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/\",component:Main,onAddPlace:handleAddPlaceClick,onEditAvatar:handleEditAvatarClick,onEditProfile:handleEditProfileClick,onCardClick:setSelectedCard,onCardLike:handleLike,onCardDelete:handleCardDelete,isLoggedIn:isLoggedIn}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",children:/*#__PURE__*/_jsx(Register,{onRegister:register,isLoggedIn:isLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",children:/*#__PURE__*/_jsx(Login,{onLogin:login,isLoggedIn:isLoggedIn})}),/*#__PURE__*/_jsx(Route,{children:isLoggedIn?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(Redirect,{to:\"/signin\"})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(InfoTooltip,{tooltipState:tooltipState,onClose:closeAllPopups}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlaceSubmit}),/*#__PURE__*/_jsx(PopupWithForm,{name:\"delete-confirmation\",title:\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",onClose:closeAllPopups,children:/*#__PURE__*/_jsx(\"button\",{className:\"popup__submit-button\",type:\"submit\",\"aria-label\":\"\\u0414\\u0430\",children:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C\"})}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,onClose:closeAllPopups})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Redirect","Route","Switch","useHistory","CurrentUserContext","CardsContext","ProtectedRoute","Header","Login","Register","Main","Footer","PopupWithForm","ImagePopup","EditProfilePopup","EditAvatarPopup","AddPlacePopup","InfoTooltip","api","auth","success","fail","App","isLoggedIn","setIsLoggedIn","userData","setUserData","userEmail","setUserEmail","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","name","about","currentUser","setCurrentUser","isOpen","title","image","tooltipState","setTooltipState","cards","setCards","history","getUserInfo","then","data","catch","err","console","log","getInitialCards","cardList","handleLike","card","isLiked","likes","some","item","_id","deleteLike","newCard","map","putLike","handleCardDelete","deleteCard","filter","checkToken","token","localStorage","getItem","user","email","login","password","setItem","push","signOut","removeItem","register","handleUpdateUser","editUserInfo","closeAllPopups","handleUpdateAvatar","avatar","editUserAvatar","handleAddPlaceSubmit","link","addCard","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick"],"sources":["/Users/ilina/Projects/react-mesto-auth/src/components/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport {\n  Redirect,\n  Route,\n  Switch,\n  useHistory,\n} from \"react-router-dom\";\nimport \"../index.css\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport { CardsContext } from \"../contexts/CardsContext.js\";\nimport ProtectedRoute from \"./ProtectedRoute.js\";\nimport Header from \"./Header.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport InfoTooltip from \"./InfoTooltip.js\";\nimport { api } from \"../utils/Api.js\";\nimport * as auth from \"../utils/Auth.js\";\nimport success from \"../images/success.svg\";\nimport fail from \"../images/fail.svg\";\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userData, setUserData] = useState({});\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({ name: \"\", about: \"\" });\n  const [tooltipState, setTooltipState] = useState({\n    isOpen: false,\n    title: \"\",\n    image: \"\",\n  });\n  const [cards, setCards] = useState([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      api\n        .getUserInfo()\n        .then((data) => {\n          setCurrentUser(data);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [isLoggedIn]);\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      api\n        .getInitialCards()\n        .then((cardList) => {\n          setCards(cardList);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [isLoggedIn]);\n\n  const handleLike = (card) => {\n    const isLiked = card.likes.some((item) => item._id === currentUser._id);\n    if (isLiked) {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          setCards((cards) =>\n            cards.map((item) => (card._id === item._id ? newCard : item))\n          );\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      api\n        .putLike(card._id)\n        .then((newCard) => {\n          setCards((cards) =>\n            cards.map((item) => (card._id === item._id ? newCard : item))\n          );\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  const handleCardDelete = (card) => {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter((item) => item._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const checkToken = useCallback(async () => {\n    try {\n      const token = localStorage.getItem(\"jwt\");\n      if (!token) {\n        console.log(\"No token in storage\");\n      } else {\n        console.log(\"Has token in storage\");\n      }\n      const user = await auth.checkToken(token);\n      if (!user) {\n        console.log(\"Invalid user\");\n      }\n      console.log('setting log in == true');\n      setIsLoggedIn(true);\n      console.log(isLoggedIn);\n      setUserEmail(user.data.email);\n    } catch {}\n  }, [isLoggedIn]);\n\n  useEffect(() => {\n    checkToken();\n  }, []);\n\n  const login = useCallback(async (email, password) => {\n    try {\n      const data = await auth.login(email, password);\n      if (!data) {\n        console.log(\"Что-то пошло не так\");\n      }\n      if (data) {\n        localStorage.setItem(\"jwt\", data.token);\n        setUserEmail(data.email);\n        setIsLoggedIn(true);\n        setUserData(data.user);\n        history.push(\"/\");\n      }\n    } catch {}\n  }, []);\n\n  const signOut = useCallback(() => {\n    console.log('sign out');\n    localStorage.removeItem(\"jwt\");\n    history.push(\"/signin\");\n  });\n\n  const register = useCallback(async (email, password) => {\n    try {\n      const data = await auth.register(email, password);\n      if (!data) {\n        setTooltipState({\n          isOpen: true,\n          title: \"Что-то пошло не так! Попробуйте ещё раз.\",\n          image: fail,\n        });\n      }\n      if (data) {\n        setIsLoggedIn(true);\n        setUserData(data.email, data.password);\n        setTooltipState({\n          isOpen: true,\n          title: \"Вы успешно зарегистрировались!\",\n          image: success,\n        });\n        history.push(\"/signin\");\n      }\n    } catch {\n      setTooltipState({\n        isOpen: true,\n        title: \"Что-то пошло не так! Попробуйте ещё раз.\",\n        image: fail,\n      });\n    }\n  }, []);\n\n  function handleUpdateUser(name, about) {\n    api\n      .editUserInfo(name, about)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api\n      .editUserAvatar(avatar)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(name, link) {\n    api\n      .addCard({name, link})\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setTooltipState({ isOpen: false });\n    setSelectedCard(null);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <CardsContext.Provider value={cards}>\n        <div className=\"App\">\n          <Header email={userEmail} onSignOut={signOut} />\n          <Switch>\n            <ProtectedRoute\n              exact\n              path=\"/\"\n              component={Main}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onCardClick={setSelectedCard}\n              onCardLike={handleLike}\n              onCardDelete={handleCardDelete}\n              isLoggedIn={isLoggedIn}\n            />\n            <Route path=\"/signup\">\n              <Register onRegister={register} isLoggedIn={isLoggedIn} />\n            </Route>\n            <Route path=\"/signin\">\n              <Login onLogin={login} isLoggedIn={isLoggedIn} />\n            </Route>\n            <Route>\n              {isLoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n            </Route>\n          </Switch>\n\n          <Footer />\n          <InfoTooltip tooltipState={tooltipState} onClose={closeAllPopups} />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <PopupWithForm\n            name=\"delete-confirmation\"\n            title=\"Вы уверены?\"\n            onClose={closeAllPopups}\n          >\n            <button\n              className=\"popup__submit-button\"\n              type=\"submit\"\n              aria-label=\"Да\"\n            >\n              Подтвердить\n            </button>\n          </PopupWithForm>\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        </div>\n      </CardsContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}