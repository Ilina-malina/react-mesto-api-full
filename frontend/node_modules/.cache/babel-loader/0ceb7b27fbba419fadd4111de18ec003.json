{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this.addCard = card => {\n      return fetch(this._baseUrl + \"/cards\", {\n        method: \"POST\",\n        headers: this._headers,\n        body: JSON.stringify(card)\n      }).then(res => {\n        return this._checkStatus(res);\n      });\n    };\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      headers: this._headers\n    }).then(res => {\n      return this._checkStatus(res);\n    });\n  }\n  deleteCard(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => {\n      return this._checkStatus(res);\n    });\n  }\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      headers: this._headers\n    }).then(res => {\n      return this._checkStatus(res);\n    });\n  }\n  editUserInfo(name, about) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(res => {\n      return this._checkStatus(res);\n    });\n  }\n  editUserAvatar(avatar) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(res => {\n      return this._checkStatus(res);\n    });\n  }\n  putLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(res => {\n      return this._checkStatus(res);\n    });\n  }\n  deleteLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkStatus);\n  }\n  _checkStatus(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-50\",\n  headers: {\n    authorization: \"f0e9ad6e-8bb9-454b-8868-fba36d2de17c\",\n    \"Content-Type\": \"application/json\"\n  }\n});","map":{"version":3,"names":["Api","constructor","baseUrl","headers","addCard","card","fetch","_baseUrl","method","_headers","body","JSON","stringify","then","res","_checkStatus","getInitialCards","deleteCard","cardId","getUserInfo","editUserInfo","name","about","editUserAvatar","avatar","putLike","deleteLike","ok","json","Promise","reject","status","api","authorization"],"sources":["/Users/ilina/Projects/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkStatus(res);\n    });\n  }\n\n  addCard = (card) => {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(card),\n    }).then((res) => {\n      return this._checkStatus(res);\n    });\n  };\n\n  deleteCard(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkStatus(res);\n    });\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkStatus(res);\n    });\n  }\n\n  editUserInfo(name, about) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({ name, about }),\n    }).then((res) => {\n      return this._checkStatus(res);\n    });\n  }\n\n  editUserAvatar(avatar) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({ avatar }),\n    }).then((res) => {\n      return this._checkStatus(res);\n    });\n  }\n\n  putLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkStatus(res);\n    });\n  }\n\n  deleteLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId + \"/likes\", {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkStatus)\n  }\n\n  _checkStatus(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-50\",\n  headers: {\n    authorization: \"f0e9ad6e-8bb9-454b-8868-fba36d2de17c\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}